(()=>{"use strict";const e=(e,t=[])=>({title:e,list:t}),t=(e,t,n,l,d=!1)=>({title:e,desc:t,dueDate:n,priority:l,status:d}),n=(document.getElementById("submit"),document.getElementById("sidebar-submit")),l=(document.querySelector("main"),document.querySelector(".sidebar"),document.querySelector(".modal")),d=(document.querySelector(".modal-content"),document.querySelector(".advButton")),s=document.querySelector(".advanced-options"),i=document.querySelector(".tasks-list"),a=document.querySelector(".project-names"),c=(document.getElementById("task-form"),document.getElementById("sidebar-form")),o=[],r=document.querySelector(".done-list"),u=(e,t=null,n=null)=>{for(;i.firstChild;)i.removeChild(i.firstChild);for(;r.firstChild;)r.removeChild(r.firstChild);for(let l=0;l<e.list.length;l+=1){const d=document.createElement("div");d.classList.add("task-container");const s=document.createElement("div"),a=document.createElement("div"),c=document.createElement("h3"),o=document.createElement("div"),u=document.createElement("p"),y=document.createElement("p"),E=document.createElement("p"),f=h(o),L=v(e,l),g=C(e,l),b=m(e,l,d);c.textContent=e.list[l].title,u.textContent=e.list[l].desc,y.textContent=e.list[l].dueDate,E.textContent=e.list[l].priority,s.classList.add("main-info"),a.classList.add("additional-info"),g.classList.add("mr-3"),o.style.display="none",o.classList.add("details-container","mt-3"),s.appendChild(g),s.appendChild(c),a.appendChild(y),a.appendChild(E),a.appendChild(f),a.appendChild(L),a.appendChild(b),d.appendChild(s),d.appendChild(a),l===n&&d.appendChild(t),o.appendChild(u),d.appendChild(o),p(e,l,d,r,i)}},m=(e,t,n)=>{const d=document.createElement("span");return d.innerHTML="<i class='fas fa-edit'></i>",d.addEventListener("click",(()=>{const n=((e,t)=>{const n=document.createElement("form"),d=document.createElement("input"),s=document.createElement("input"),i=document.createElement("div"),a=document.createElement("input"),c=document.createElement("select"),o=document.createElement("input"),r=document.createElement("input");d.classList.add("form-control","mb-2"),s.classList.add("form-control","mb-2"),a.classList.add("form-control","mr-2"),c.classList.add("custom-select","custom-select-sm"),o.classList.add("btn","btn-secondary","button","ml-3"),r.classList.add("btn","btn-secondary","button","ml-3"),i.classList.add("extra-inputs"),d.type="text",s.type="text",a.type="date",o.type="submit",r.type="submit";const m=document.createElement("option"),p=document.createElement("option"),h=document.createElement("option");return m.value="high",p.value="medium",h.value="low",m.textContent="High",p.textContent="Medium",h.textContent="Low",o.value="Cancel",d.value=e.list[t].title,s.value=e.list[t].desc,a.value=e.list[t].dueDate,c.value=e.list[t].priority,c.appendChild(m),c.appendChild(p),c.appendChild(h),n.appendChild(d),n.appendChild(s),i.appendChild(a),i.appendChild(c),i.appendChild(o),i.appendChild(r),n.appendChild(i),r.addEventListener("click",(n=>{n.preventDefault(),((e,t,n,l,d)=>""===t?(console.log(e),console.log("modal"),((e,t="")=>{e.style.display="block",console.log(e)})(e),!1):(console.log("modal"),console.log(e),!0))(l,d.value,s.value,a.value,c.value)&&(e.list[t].title=d.value,e.list[t].desc=s.value,e.list[t].dueDate=a.value,e.list[t].priority=c.value,u(e))})),n})(e,t);u(e,n,t)})),d},p=(e,t,n,l,d)=>{e.list[t].status?l.appendChild(n):d.appendChild(n)},h=e=>{const t=document.createElement("span");return t.innerHTML='<i class="fas fa-chevron-down"></i>',t.addEventListener("click",(t=>{t.preventDefault(),"block"===e.style.display?e.style.display="none":e.style.display="block"})),t},v=(e,t)=>{const n=document.createElement("span");return n.innerHTML="<i class='fas fa-trash-alt'></i>",n.addEventListener("click",(()=>{e.list.splice(t,1),u(e)})),n},C=(e,t)=>{const n=document.createElement("input");return n.type="checkbox",n.checked=e.list[t].status,n.addEventListener("change",(()=>{e.list[t].status=!!n.checked,u(e)})),n},y=e=>{for(;a.firstChild;)a.removeChild(a.firstChild);for(let t=0;t<e.length;t+=1){const n=document.createElement("div"),l=document.createElement("h3"),d=E(e,t);n.classList.add("list-cont"),l.textContent=e[t].title,n.appendChild(l),n.appendChild(d),a.appendChild(n),e[0]&&0===t&&n.classList.add("active"),l.addEventListener("click",(l=>{l.preventDefault(),document.querySelector(".active").classList.remove("active"),n.classList.add("active"),u(e[t])}))}},E=(e,t)=>{const n=document.createElement("span");return n.innerHTML="<i class='fas fa-trash-alt'></i>",n.addEventListener("click",(()=>{e.splice(t,1),y(e),u(e[0])})),n};n.addEventListener("click",(t=>{t.preventDefault(),(t=>{const n=document.getElementById("sidebar-input").value,l=e(n);c.reset(),t.unshift(l)})(o),y(o),u(o[0])})),d.addEventListener("click",(e=>{"block"===s.style.display?(s.style.display="none",d.innerText="Advanced Options"):(s.style.display="block",d.textContent="Hide Options")})),(()=>{const n=t("The Winds of Winter","desc1","2020-12-12","high",!0),l=t("A Dream of Spring","desc1","2020-12-12","high"),d=t("A Clash of Kings","desc1","2020-12-12","high"),s=t("A Game of Thrones","desc1","2020-12-12","high"),i=e("A Song of Ice and Fire"),a=e("The Lord of the Rings"),c=t("The Two Towers","desc1","2020-12-12","high");i.list.push(n,l,d,s),a.list.push(c),o.push(i),o.push(a)})(),y(o),u(o[0])})();