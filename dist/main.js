(()=>{"use strict";const e=(e,t=[])=>({title:e,list:t}),t=(e,t,n,d,l=!1)=>({title:e,desc:t,dueDate:n,priority:d,status:l}),n=document.getElementById("submit"),d=document.getElementById("sidebar-submit"),l=(document.querySelector("main"),document.querySelector(".sidebar"),document.querySelector(".advButton")),i=document.querySelector(".advanced-options"),c=document.querySelector(".tasks-list"),s=document.querySelector(".project-names"),a=document.getElementById("task-form"),o=document.getElementById("sidebar-form"),r=[],u=document.querySelector(".done-list"),p=(e,t=null,n=null)=>{for(;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)u.removeChild(u.firstChild);for(let d=0;d<e.list.length;d+=1){const l=document.createElement("div"),i=document.createElement("h3"),s=document.createElement("div"),a=document.createElement("p"),o=document.createElement("p"),r=document.createElement("p"),p=v(s),E=C(e,d),f=y(e,d),g=m(e,d,l);i.textContent=e.list[d].title,a.textContent=e.list[d].desc,o.textContent=e.list[d].dueDate,r.textContent=e.list[d].priority,s.style.display="none",l.appendChild(f),l.appendChild(i),l.appendChild(o),l.appendChild(p),l.appendChild(E),l.appendChild(g),d===n&&l.appendChild(t),s.appendChild(a),s.appendChild(r),l.appendChild(s),h(e,d,l,u,c)}},m=(e,t,n)=>{const d=document.createElement("button");return d.textContent="Edit",d.addEventListener("click",(()=>{const n=((e,t)=>{const n=document.createElement("form"),d=document.createElement("input"),l=document.createElement("input"),i=document.createElement("input"),c=document.createElement("select"),s=document.createElement("input");d.type="text",l.type="text",i.type="date",s.type="submit";const a=document.createElement("option"),o=document.createElement("option"),r=document.createElement("option");return a.value="high",o.value="medium",r.value="low",a.textContent="High",o.textContent="Medium",r.textContent="Low",d.value=e.list[t].title,l.value=e.list[t].desc,i.value=e.list[t].dueDate,c.value=e.list[t].priority,c.appendChild(a),c.appendChild(o),c.appendChild(r),n.appendChild(d),n.appendChild(l),n.appendChild(i),n.appendChild(c),n.appendChild(s),s.addEventListener("click",(n=>{n.preventDefault(),e.list[t].title=d.value,e.list[t].desc=l.value,e.list[t].dueDate=i.value,e.list[t].priority=c.value,p(e)})),n})(e,t);p(e,n,t)})),d},h=(e,t,n,d,l)=>{e.list[t].status?d.appendChild(n):l.appendChild(n)},v=e=>{const t=document.createElement("span");return t.textContent="âŒ„",t.addEventListener("click",(t=>{t.preventDefault(),"block"===e.style.display?e.style.display="none":e.style.display="block"})),t},C=(e,t)=>{const n=document.createElement("button");return n.textContent="Delete",n.addEventListener("click",(()=>{e.list.splice(t,1),p(e)})),n},y=(e,t)=>{const n=document.createElement("input");return n.type="checkbox",n.checked=e.list[t].status,n.addEventListener("change",(()=>{e.list[t].status=!!n.checked,p(e)})),n};n.addEventListener("click",(e=>{e.preventDefault();let n=document.querySelector(".active").firstChild.innerText,d=r.filter((e=>e.title===n))[0];(e=>{const n=document.getElementById("task-input").value,d=document.getElementById("task-desc-input").value,l=document.getElementById("task-date-input").value,i=document.getElementById("task-priority-input").value,c=t(n,d,l,i);a.reset(),e.list.unshift(c)})(d),p(d)}));const E=e=>{for(;s.firstChild;)s.removeChild(s.firstChild);for(let t=0;t<e.length;t+=1){const n=document.createElement("div"),d=document.createElement("h3"),l=f(e,t);n.classList.add("list-cont"),d.textContent=e[t].title,n.appendChild(d),n.appendChild(l),s.appendChild(n),e[0]&&0===t&&n.classList.add("active"),d.addEventListener("click",(d=>{d.preventDefault(),document.querySelector(".active").classList.remove("active"),n.classList.add("active"),p(e[t])}))}},f=(e,t)=>{const n=document.createElement("span");return n.textContent="x",n.addEventListener("click",(()=>{e.splice(t,1),E(e),p(e[0])})),n};d.addEventListener("click",(t=>{t.preventDefault(),(t=>{const n=document.getElementById("sidebar-input").value,d=e(n);o.reset(),t.unshift(d)})(r),E(r)})),l.addEventListener("click",(e=>{e.preventDefault(),"block"===i.style.display?i.style.display="none":i.style.display="block"})),(()=>{const n=t("The Winds of Winter","desc1","2020-12-12","high",!0),d=t("A Dream of Spring","desc1","2020-12-12","high"),l=t("A Clash of Kings","desc1","2020-12-12","high"),i=t("A Game of Thrones","desc1","2020-12-12","high"),c=e("A Song of Ice and Fire"),s=e("The Lord of the Rings"),a=t("The Two Towers","desc1","2020-12-12","high");c.list.push(n,d,l,i),s.list.push(a),r.push(c),r.push(s)})(),E(r),p(r[0])})();