(()=>{"use strict";const e=(e,t=[])=>({title:e,list:t}),t=(e,t,n,s,d=!1)=>({title:e,desc:t,dueDate:n,priority:s,status:d});function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function s(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}var d=6e4;function a(e){return e.getTime()%d}function i(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var s=n>0?(d+a(t))%d:a(t);return n*d+s}function l(e){n(1,arguments);var t=s(e);return t.setHours(0,0,0,0),t}var o=864e5;function c(e,t){n(2,arguments);var s=l(e),d=l(t),a=s.getTime()-i(s),c=d.getTime()-i(d);return Math.round((a-c)/o)}function r(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}const u=document.getElementById("submit"),m=document.getElementById("sidebar-submit"),p=document.querySelector(".modal"),h=document.querySelector(".modal-content"),v=document.querySelector(".advButton"),f=document.querySelector(".advanced-options"),y=document.querySelector(".tasks-list"),C=document.querySelector(".project-names"),g=document.getElementById("task-form"),E=document.getElementById("sidebar-form"),L=[],b=document.querySelector(".done-list"),k=document.getElementById("sidebar-input"),x=document.createElement("p"),D=(e,t=null,n=null)=>{for(;y.firstChild;)y.removeChild(y.firstChild);for(;b.firstChild;)b.removeChild(b.firstChild);for(let s=0;s<e.list.length;s+=1){const d=document.createElement("div");d.classList.add("task-container");const a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("h3"),o=document.createElement("div"),c=document.createElement("p"),r=document.createElement("p"),u=document.createElement("span"),m=document.createElement("p"),p=q(o),h=I(e,s),v=j(e,s),f=B(e,s,d);l.textContent=e.list[s].title,c.textContent=e.list[s].desc,r.textContent=e.list[s].dueDate,u.textContent=T(e.list[s].dueDate),r.classList.add("tooltipp"),u.classList.add("tooltipptext"),m.textContent=e.list[s].priority,m.classList.add(S(m),"p-1","rounded"),a.classList.add("main-info"),i.classList.add("additional-info"),v.classList.add("mr-2"),o.style.display="none",o.classList.add("details-container","mt-2"),r.appendChild(u),a.appendChild(v),a.appendChild(l),i.appendChild(m),i.appendChild(r),i.appendChild(h),i.appendChild(f),i.appendChild(p),d.appendChild(a),d.appendChild(i),s===n&&d.appendChild(t),o.appendChild(c),d.appendChild(o),H(e,s,d,b,y)}},S=e=>"H"===e.textContent?"high":"M"===e.textContent?"medium":"low",T=e=>function(e,t){n(2,arguments);var d=s(e),a=s(t),i=r(d,a),l=Math.abs(c(d,a));d.setDate(d.getDate()-i*l);var o=r(d,a)===-i,u=i*(l-o);return 0===u?0:u}(new Date(e),new Date)+" day(s) left",w=(e,t)=>{const n=document.querySelector(".exit-modal");e.style.display="block",x.textContent=t,h.appendChild(x),h.appendChild(n),n.addEventListener("click",(()=>{e.style.display="none"}))};u.addEventListener("click",(e=>{e.preventDefault();let n=document.querySelector(".active").firstChild.innerText,s=L.filter((e=>e.title===n))[0];(e=>{const n=document.querySelector("#task-input").value,s=document.getElementById("task-desc-input").value,d=document.getElementById("task-date-input").value,a=document.getElementById("task-priority-input").value;if(M(p,n)){const i=t(n,s,d,a);g.reset(),e.list.unshift(i)}})(s),D(s)}));const M=(e,t)=>""!==t||(w(e,"Task title must exist!"),!1);document.addEventListener("keydown",(function(e){27===e.keyCode&&(p.style.display="none")}));const B=(e,t)=>{const n=document.createElement("span");return n.innerHTML="<i class='fas fa-edit'></i>",n.addEventListener("click",(()=>{const n=((e,t)=>{const n=document.createElement("form"),s=document.createElement("input"),d=document.createElement("input"),a=document.createElement("div"),i=document.createElement("input"),l=document.createElement("select"),o=document.createElement("input"),c=document.createElement("input");s.classList.add("form-control","mb-2"),d.classList.add("form-control","mb-2"),i.classList.add("form-control","mr-md-2","mb-2","mb-md-0"),l.classList.add("custom-select","custom-select-sm","mb-2","mb-md-0"),o.classList.add("btn","btn-secondary","button","ml-md-3"),c.classList.add("btn","btn-secondary","button","ml-md-3"),a.classList.add("extra-inputs"),s.type="text",d.type="text",i.type="date",o.type="submit",c.type="submit";const r=document.createElement("option"),u=document.createElement("option"),m=document.createElement("option");return r.value="H",u.value="M",m.value="L",r.textContent="High",u.textContent="Medium",m.textContent="Low",o.value="Cancel",s.value=e.list[t].title,d.value=e.list[t].desc,i.value=e.list[t].dueDate,l.value=e.list[t].priority,l.appendChild(r),l.appendChild(u),l.appendChild(m),n.appendChild(s),n.appendChild(d),a.appendChild(i),a.appendChild(l),a.appendChild(o),a.appendChild(c),n.appendChild(a),c.addEventListener("click",(n=>{n.preventDefault(),M(p,s.value,d.value,i.value,l.value)&&(e.list[t].title=s.value,e.list[t].desc=d.value,e.list[t].dueDate=i.value,e.list[t].priority=l.value,D(e))})),n})(e,t);D(e,n,t)})),n},H=(e,t,n,s,d)=>{e.list[t].status?s.appendChild(n):d.appendChild(n)},q=e=>{const t=document.createElement("span");return t.innerHTML='<i class="fas fa-chevron-down"></i>',t.addEventListener("click",(t=>{t.preventDefault(),"block"===e.style.display?e.style.display="none":e.style.display="block"})),t},I=(e,t)=>{const n=document.createElement("span");return n.innerHTML="<i class='fas fa-trash-alt'></i>",n.addEventListener("click",(()=>{e.list.splice(t,1),D(e)})),n},j=(e,t)=>{const n=document.createElement("input");return n.classList.add("check-task"),n.type="checkbox",n.checked=e.list[t].status,n.addEventListener("change",(()=>{e.list[t].status=!!n.checked,D(e)})),n},A=e=>{for(;C.firstChild;)C.removeChild(C.firstChild);for(let t=0;t<e.length;t+=1){const n=document.createElement("div"),s=document.createElement("h3"),d=O(e,t);n.classList.add("list-cont"),s.textContent=e[t].title,n.appendChild(s),n.appendChild(d),C.appendChild(n),e[0]&&0===t&&n.classList.add("active"),s.addEventListener("click",(s=>{s.preventDefault(),document.querySelector(".active").classList.remove("active"),n.classList.add("active"),D(e[t])}))}},O=(e,t)=>{const n=document.createElement("span");return n.innerHTML="<i class='fas fa-trash-alt'></i>",n.addEventListener("click",(()=>{e.splice(t,1),A(e),D(e[0])})),n};m.addEventListener("click",(t=>{t.preventDefault(),((e,t)=>""!==t||(w(e,"List title must exist!"),!1))(p,k.value)&&((t=>{const n=e(k.value);E.reset(),t.unshift(n)})(L),A(L),D(L[0]))})),v.addEventListener("click",(e=>{"block"===f.style.display?(f.style.display="none",v.innerText="Advanced Options"):(f.style.display="block",v.textContent="Hide Options")})),(()=>{const n=t("The Winds of Winter","Book 1","2022-12-11","H",!0),s=t("A Dream of Spring","Book 2","2021-12-03","H"),d=t("A Clash of Kings","Book 3","2023-12-12","M"),a=t("A Game of Thrones","Book 2","2021-11-06","L"),i=e("A Song of Ice and Fire"),l=e("The Lord of the Rings"),o=t("The Two Towers","desc1","2022-12-04","M"),c=t("Fellowship of the Ring","desc1","2021-12-10","M");i.list.push(n,s,d,a),l.list.push(o,c),L.push(i),L.push(l)})(),A(L),D(L[0])})();