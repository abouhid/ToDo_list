(()=>{"use strict";const e=(e,t=[])=>({title:e,list:t}),t=(e,t,n,l,d=!1)=>({title:e,desc:t,priority:n,dueDate:l,status:d}),n=document.getElementById("submit"),l=document.getElementById("sidebar-submit"),d=(document.querySelector("main"),document.querySelector("sidebar"),document.querySelector(".tasks-list")),i=document.querySelector(".project-names"),c=document.getElementById("task-form"),s=document.getElementById("sidebar-form"),o=[],a=document.querySelector(".done-list"),r=(e,t=null,n=null)=>{for(;d.firstChild;)d.removeChild(d.firstChild);for(;a.firstChild;)a.removeChild(a.firstChild);for(let l=0;l<e.list.length;l+=1){const i=document.createElement("div"),c=document.createElement("h3"),s=document.createElement("div"),o=document.createElement("p"),r=document.createElement("p"),v=document.createElement("p"),E=m(s),y=h(e,l),f=C(e,l),g=u(e,l,i);c.textContent=e.list[l].title,o.textContent=e.list[l].desc,r.textContent=e.list[l].dueDate,v.textContent=e.list[l].priority,s.style.display="none",i.appendChild(f),i.appendChild(c),i.appendChild(E),i.appendChild(y),i.appendChild(g),l===n&&i.appendChild(t),console.log(t),console.log(i),s.appendChild(o),s.appendChild(v),s.appendChild(r),i.appendChild(s),p(e,l,i,a,d)}},u=(e,t,n)=>{const l=document.createElement("button");return l.textContent="Edit",l.addEventListener("click",(()=>{const n=((e,t)=>{const n=document.createElement("form"),l=document.createElement("input"),d=document.createElement("input"),i=document.createElement("input"),c=document.createElement("select"),s=document.createElement("input");l.type="text",d.type="text",i.type="date",s.type="submit";const o=document.createElement("option"),a=document.createElement("option"),r=document.createElement("option");return o.value="high",a.value="medium",r.value="low",o.textContent="High",a.textContent="Medium",r.textContent="Low",l.value=e.list[t].title,d.value=e.list[t].desc,i.value=e.list[t].dueDate,c.value=e.list[t].priority,c.appendChild(o),c.appendChild(a),c.appendChild(r),n.appendChild(l),n.appendChild(d),n.appendChild(i),n.appendChild(c),n.appendChild(s),s.addEventListener("click",(n=>{n.preventDefault(),e.list[t].title=l.value,e.list[t].desc=d.value,e.list[t].dueDate=i.value,e.list[t].priority=c.value})),n})(e,t);r(e,n,t)})),l},p=(e,t,n,l,d)=>{e.list[t].status?l.appendChild(n):d.appendChild(n)},m=e=>{const t=document.createElement("span");return t.textContent="âŒ„",t.addEventListener("click",(t=>{t.preventDefault(),"block"===e.style.display?e.style.display="none":e.style.display="block"})),t},h=(e,t)=>{const n=document.createElement("button");return n.textContent="Delete",n.addEventListener("click",(()=>{e.list.splice(t,1),r(e)})),n},C=(e,t)=>{const n=document.createElement("input");return n.type="checkbox",n.checked=e.list[t].status,n.addEventListener("change",(()=>{e.list[t].status=!!n.checked,r(e)})),n};n.addEventListener("click",(e=>{e.preventDefault();let n=document.querySelector(".active").innerText,l=o.filter((e=>e.title===n))[0];(e=>{const n=document.getElementById("task-input").value,l=document.getElementById("task-desc-input").value,d=document.getElementById("task-date-input").value,i=document.getElementById("task-priority-input").value,s=t(n,l,d,i);c.reset(),e.list.unshift(s)})(l),r(l)}));const v=e=>{for(;i.firstChild;)i.removeChild(i.firstChild);for(let t=0;t<e.length;t+=1){const n=document.createElement("h3"),l=E(e,t);n.textContent=e[t].title,i.appendChild(n),i.appendChild(l),e[0]&&0===t&&n.classList.add("active"),n.addEventListener("click",(l=>{l.preventDefault(),document.querySelector(".active").classList.remove("active"),n.classList.add("active"),r(e[t])}))}},E=(e,t)=>{const n=document.createElement("button");return n.textContent="Delete",n.addEventListener("click",(()=>{e.splice(t,1),v(e),r(e[0])})),n};l.addEventListener("click",(t=>{t.preventDefault(),(t=>{const n=document.getElementById("sidebar-input").value,l=e(n);s.reset(),t.unshift(l)})(o),v(o)})),(()=>{const n=t("The Winds of Winter","desc1","2020-12-12","high",!0),l=t("A Dream of Spring","desc1","2020-12-12","high"),d=t("A Clash of Kings","desc1","2020-12-12","high"),i=t("A Game of Thrones","desc1","2020-12-12","high"),c=e("A Song of Ice and Fire"),s=e("The Lord of the Rings"),a=t("The Two Towers","desc1","2020-12-12","high");c.list.push(n,l,d,i),s.list.push(a),o.push(c),o.push(s)})(),v(o),r(o[0])})();